{"ast":null,"code":"import { Observable, asyncScheduler } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nfunction _fromRef(ref, scheduler = asyncScheduler) {\n  return new Observable(subscriber => {\n    let unsubscribe;\n\n    if (scheduler != null) {\n      scheduler.schedule(() => {\n        unsubscribe = ref.onSnapshot(subscriber);\n      });\n    } else {\n      unsubscribe = ref.onSnapshot(subscriber);\n    }\n\n    return function () {\n      if (unsubscribe != null) {\n        unsubscribe();\n      }\n    };\n  });\n}\n\nexport function fromRef(ref, scheduler) {\n  return _fromRef(ref, scheduler);\n}\nexport function fromDocRef(ref, scheduler) {\n  return fromRef(ref, scheduler).pipe(map(payload => ({\n    payload,\n    type: 'value'\n  })));\n}\nexport function fromCollectionRef(ref, scheduler) {\n  return fromRef(ref, scheduler).pipe(map(payload => ({\n    payload,\n    type: 'query'\n  })));\n}","map":{"version":3,"sources":["/Users/luiferna2/Documents/Learning/AngularFromToBack/section9/node_modules/@angular/fire/__ivy_ngcc__/firestore/es2015/observable/fromRef.js"],"names":["Observable","asyncScheduler","map","_fromRef","ref","scheduler","subscriber","unsubscribe","schedule","onSnapshot","fromRef","fromDocRef","pipe","payload","type","fromCollectionRef"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,cAArB,QAA2C,MAA3C;AACA,SAASC,GAAT,QAAoB,gBAApB;;AACA,SAASC,QAAT,CAAkBC,GAAlB,EAAuBC,SAAS,GAAGJ,cAAnC,EAAmD;AAC/C,SAAO,IAAID,UAAJ,CAAeM,UAAU,IAAI;AAChC,QAAIC,WAAJ;;AACA,QAAIF,SAAS,IAAI,IAAjB,EAAuB;AACnBA,MAAAA,SAAS,CAACG,QAAV,CAAmB,MAAM;AACrBD,QAAAA,WAAW,GAAGH,GAAG,CAACK,UAAJ,CAAeH,UAAf,CAAd;AACH,OAFD;AAGH,KAJD,MAKK;AACDC,MAAAA,WAAW,GAAGH,GAAG,CAACK,UAAJ,CAAeH,UAAf,CAAd;AACH;;AACD,WAAO,YAAY;AACf,UAAIC,WAAW,IAAI,IAAnB,EAAyB;AACrBA,QAAAA,WAAW;AACd;AACJ,KAJD;AAKH,GAfM,CAAP;AAgBH;;AACD,OAAO,SAASG,OAAT,CAAiBN,GAAjB,EAAsBC,SAAtB,EAAiC;AACpC,SAAOF,QAAQ,CAACC,GAAD,EAAMC,SAAN,CAAf;AACH;AACD,OAAO,SAASM,UAAT,CAAoBP,GAApB,EAAyBC,SAAzB,EAAoC;AACvC,SAAOK,OAAO,CAACN,GAAD,EAAMC,SAAN,CAAP,CACFO,IADE,CACGV,GAAG,CAACW,OAAO,KAAK;AAAEA,IAAAA,OAAF;AAAWC,IAAAA,IAAI,EAAE;AAAjB,GAAL,CAAR,CADN,CAAP;AAEH;AACD,OAAO,SAASC,iBAAT,CAA2BX,GAA3B,EAAgCC,SAAhC,EAA2C;AAC9C,SAAOK,OAAO,CAACN,GAAD,EAAMC,SAAN,CAAP,CAAwBO,IAAxB,CAA6BV,GAAG,CAACW,OAAO,KAAK;AAAEA,IAAAA,OAAF;AAAWC,IAAAA,IAAI,EAAE;AAAjB,GAAL,CAAR,CAAhC,CAAP;AACH","sourcesContent":["import { Observable, asyncScheduler } from 'rxjs';\nimport { map } from 'rxjs/operators';\nfunction _fromRef(ref, scheduler = asyncScheduler) {\n    return new Observable(subscriber => {\n        let unsubscribe;\n        if (scheduler != null) {\n            scheduler.schedule(() => {\n                unsubscribe = ref.onSnapshot(subscriber);\n            });\n        }\n        else {\n            unsubscribe = ref.onSnapshot(subscriber);\n        }\n        return function () {\n            if (unsubscribe != null) {\n                unsubscribe();\n            }\n        };\n    });\n}\nexport function fromRef(ref, scheduler) {\n    return _fromRef(ref, scheduler);\n}\nexport function fromDocRef(ref, scheduler) {\n    return fromRef(ref, scheduler)\n        .pipe(map(payload => ({ payload, type: 'value' })));\n}\nexport function fromCollectionRef(ref, scheduler) {\n    return fromRef(ref, scheduler).pipe(map(payload => ({ payload, type: 'query' })));\n}\n"]},"metadata":{},"sourceType":"module"}